import{r as _,j as r}from"./jsx-runtime-BfF-YriY.js";import{c as A,a as V,b as M,m as Y,t as g,I as O,H as w,B,T as Z}from"./heading-uOGKedE8.js";import{D as Q}from"./decoder-text-ChhECSdP.js";import{D as U}from"./divider-BpMiQ5sl.js";import{S as W,F as ee}from"./section-Dn-djC0I.js";import"./components-7U91X0lH.js";import"./visually-hidden-DNbPzCjn.js";import"./use-spring-BHB8byz_.js";import"./config-C6BTT1dW.js";function D(t=""){const[e,n]=_.useState(t),[i,s]=_.useState(),[a,o]=_.useState(!1);return{value:e,error:i,onChange:l=>{n(l.target.value),o(!0),i&&l.target.checkValidity()&&s(null)},onBlur:l=>{a&&l.target.checkValidity()},onInvalid:l=>{l.preventDefault(),s(l.target.validationMessage)}}}const te="_textarea_1ly3z_2",se={textarea:te},re=({className:t,resize:e="none",value:n,onChange:i,minRows:s=1,maxRows:a,...o})=>{const[m,b]=_.useState(s),[d,l]=_.useState(),h=_.useRef();_.useEffect(()=>{const c=getComputedStyle(h.current),j=parseInt(c.lineHeight,10),y=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10);l({lineHeight:j,paddingHeight:y})},[]);const p=c=>{i(c);const{lineHeight:j,paddingHeight:y}=d,E=c.target.rows;c.target.rows=s;const f=~~((c.target.scrollHeight-y)/j);f===E&&(c.target.rows=f),a&&f>=a&&(c.target.rows=a,c.target.scrollTop=c.target.scrollHeight),b(a&&f>a?a:f)};return r.jsx("textarea",{className:A(se.textarea,t),ref:h,onChange:p,style:V({resize:e}),rows:m,value:n,...o})},oe="_container_1ukhq_2",ne="_content_1ukhq_16",ae="_input_1ukhq_21",ie="_root_1ukhq_1",le="_underline_1ukhq_55",ce="_label_1ukhq_73",de="_error_1ukhq_95",ue="_errorMessage_1ukhq_111",x={container:oe,content:ne,input:ae,root:ie,underline:le,label:ce,error:de,errorMessage:ue},L=({id:t,label:e,value:n,multiline:i,className:s,style:a,error:o,onBlur:m,autoComplete:b,required:d,maxLength:l,type:h,onChange:p,name:c,...j})=>{const[y,E]=_.useState(!1),f=_.useId(),k=_.useRef(),q=t||`${f}input`,C=`${q}-label`,H=`${q}-error`,G=i?re:"input",J=T=>{E(!1),m&&m(T)};return r.jsxs("div",{className:A(x.container,s),"data-error":!!o,style:a,...j,children:[r.jsxs("div",{className:x.content,children:[r.jsx("label",{className:x.label,"data-focused":y,"data-filled":!!n,id:C,htmlFor:q,children:e}),r.jsx(G,{className:x.input,id:q,"aria-labelledby":C,"aria-describedby":o?H:void 0,onFocus:()=>E(!0),onBlur:J,value:n,onChange:p,autoComplete:b,required:d,maxLength:l,type:h,name:c}),r.jsx("div",{className:x.underline,"data-focused":y})]}),r.jsx(M,{unmount:!0,in:o,timeout:Y(g.base.durationM),children:({visible:T,nodeRef:K})=>{var F;return r.jsx("div",{ref:K,className:x.error,"data-visible":T,id:H,role:"alert",style:V({height:T?(F=k.current)==null?void 0:F.getBoundingClientRect().height:0}),children:r.jsxs("div",{className:x.errorMessage,ref:k,children:[r.jsx(O,{icon:"error"}),o]})})}})]})},S={_origin:"https://api.emailjs.com"},me=(t,e="https://api.emailjs.com")=>{S._userID=t,S._origin=e},X=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ${constructor(e){this.status=e.status,this.text=e.responseText}}const z=(t,e,n={})=>new Promise((i,s)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const m=new $(o);m.status===200||m.text==="OK"?i(m):s(m)}),a.addEventListener("error",({target:o})=>{s(new $(o))}),a.open("POST",S._origin+t,!0),Object.keys(n).forEach(o=>{a.setRequestHeader(o,n[o])}),a.send(e)}),pe=(t,e,n,i)=>{const s=i||S._userID;return X(s,t,e),z("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},_e=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},he=(t,e,n,i)=>{const s=i||S._userID,a=_e(n);X(s,t,e);const o=new FormData(a);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",s),z("/api/v1.0/email/send-form",o)},ge={init:me,send:pe,sendForm:he},fe="_contact_xvg9q_1",xe="_form_xvg9q_18",ve="_title_xvg9q_30",be="_divider_xvg9q_60",ye="_input_xvg9q_98",je="_botkiller_xvg9q_140",Se="_button_xvg9q_144",Ee="_complete_xvg9q_204",qe="_completeTitle_xvg9q_215",Te="_completeText_xvg9q_234",Ne="_completeButton_xvg9q_253",Ie="_formError_xvg9q_279",Me="_formErrorContent_xvg9q_291",ke="_formErrorMessage_xvg9q_295",Ce="_formErrorIcon_xvg9q_303",He="_footer_xvg9q_308",u={contact:fe,form:xe,title:ve,divider:be,input:ye,botkiller:je,button:Se,complete:Ee,completeTitle:qe,completeText:Te,completeButton:Ne,formError:Ie,formErrorContent:Me,formErrorMessage:ke,formErrorIcon:Ce,footer:He},N=512,I=4096,Fe=/(.+)@(.+){2,}\.(.+){2,}/,Xe=()=>[{title:"Contact"},{name:"description",content:"Send me a message if you’re interested in discussing a project or if you just want to say hi"}],ze=()=>{const t=_.useRef(),e=D(""),n=D(""),i=g.base.durationS,[s,a]=_.useState(null),[o,m]=_.useState(!1),b=async d=>{d.preventDefault(),m(!0);const l=e.value,h=n.value,p={};if((!l||!Fe.test(l))&&(p.email="Please enter a valid email address."),h||(p.message="Please enter a message."),l.length>N&&(p.email=`Email address must be shorter than ${N} characters.`),h.length>I&&(p.message=`Message must be shorter than ${I} characters.`),Object.keys(p).length>0){a({errors:p}),m(!1);return}ge.send("service_kf9fo3d","template_nh0zuvc",{from_name:l,message:h},"ap_dt1Z_0-_sKfc56").then(c=>{console.log(c.text),a({success:!0})},c=>{console.error(c.text),a({errors:{message:"Failed to send message. Please try again later."}})}).finally(()=>m(!1))};return r.jsxs(W,{className:u.contact,children:[r.jsx(M,{unmount:!0,in:!(s!=null&&s.success),timeout:1600,children:({status:d,nodeRef:l})=>{var h,p;return r.jsxs("form",{className:u.form,method:"post",ref:l,onSubmit:b,children:[r.jsx(w,{className:u.title,"data-status":d,level:3,as:"h1",style:v(g.base.durationXS,i,.3),children:r.jsx(Q,{text:"Say hello",start:d!=="exited",delay:300})}),r.jsx(U,{className:u.divider,"data-status":d,style:v(g.base.durationXS,i,.4)}),r.jsx(L,{required:!0,className:u.input,"data-status":d,style:v(g.base.durationXS,i),autoComplete:"email",label:"Your email",type:"email",name:"email",maxLength:N,...e}),r.jsx(L,{required:!0,multiline:!0,className:u.input,"data-status":d,style:v(g.base.durationS,i),autoComplete:"off",label:"Message",name:"message",maxLength:I,...n}),(s==null?void 0:s.errors)&&r.jsx("div",{className:u.formError,ref:t,children:r.jsx("div",{className:u.formErrorContent,children:r.jsxs("div",{className:u.formErrorMessage,children:[r.jsx(O,{className:u.formErrorIcon,icon:"error"}),(h=s==null?void 0:s.errors)==null?void 0:h.email,(p=s==null?void 0:s.errors)==null?void 0:p.message]})})}),r.jsx(B,{className:u.button,"data-status":d,"data-sending":o,style:v(g.base.durationM,i),disabled:o,loading:o,loadingText:"Sending...",icon:"send",type:"submit",children:"Send message"})]})}}),r.jsx(M,{unmount:!0,in:s==null?void 0:s.success,children:({status:d,nodeRef:l})=>r.jsxs("div",{className:u.complete,"aria-live":"polite",ref:l,children:[r.jsx(w,{level:3,as:"h3",className:u.completeTitle,"data-status":d,children:"Message Sent"}),r.jsx(Z,{size:"l",as:"p",className:u.completeText,"data-status":d,style:v(g.base.durationXS),children:"I’ll get back to you within a couple days, sit tight"}),r.jsx(B,{secondary:!0,iconHoverShift:!0,className:u.completeButton,"data-status":d,style:v(g.base.durationM),href:"/",icon:"chevron-right",children:"Back to homepage"})]})}),r.jsx(ee,{className:u.footer})]})};function P(t){return parseFloat(t.replace("ms",""))}function R(t){return`${t}ms`}function we(t){return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{})}function v(t,e=R(0),n=1){const i=P(t)*n;return we({delay:R((P(e)+i).toFixed(0))})}export{ze as default,Xe as meta};
