import{a as j}from"/build/_shared/chunk-UFO47Q2A.js";import{a as A,b as J}from"/build/_shared/chunk-YJAVNAYP.js";import{a as Y}from"/build/_shared/chunk-DCJLI3GM.js";import{d as _}from"/build/_shared/chunk-YFP2YQSZ.js";import{e as P,f as R,g as W,k as D}from"/build/_shared/chunk-CG2D626R.js";import{a as C,b as H}from"/build/_shared/chunk-GDLBX7ER.js";import{c as V}from"/build/_shared/chunk-Q3IECNXJ.js";var b=V(C(),1);function q(){let[o,a]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{a(!0)},[]),o}var e=V(C(),1);var d={image:"tpmj9",container:"_-6RB5",elementWrapper:"wili2",placeholder:"Y1AuN",element:"BJ3ki",button:"_9e7NM"};var t=V(H(),1),$=({className:o,style:a,reveal:r,delay:n=0,raised:w,src:y,srcSet:l,placeholder:v,...i})=>{let[c,B]=(0,e.useState)(!1),{theme:u}=_(),m=(0,e.useRef)(),f=y||l.split(" ")[0],h=Y(m,!z(f)),p=(0,e.useCallback)(()=>{B(!0)},[]);return(0,t.jsx)("div",{className:W(d.image,o),"data-visible":h||c,"data-reveal":r,"data-raised":w,"data-theme":u,style:R({delay:P(n)},a),ref:m,children:(0,t.jsx)(O,{delay:n,onLoad:p,loaded:c,inViewport:h,reveal:r,src:f,srcSet:l,placeholder:v,...i})})},O=({onLoad:o,loaded:a,inViewport:r,srcSet:n,placeholder:w,delay:y,src:l,alt:v,play:i=!0,restartOnPause:c,reveal:B,sizes:u,width:m,height:f,noPauseButton:h,cover:p,...F})=>{let S=D(),[G,K]=(0,e.useState)(!0),[L,I]=(0,e.useState)(!S),[E,T]=(0,e.useState)(),[k,Q]=(0,e.useState)(!1),U=(0,e.useRef)(),s=(0,e.useRef)(),g=z(l),x=r,X=q();(0,e.useEffect)(()=>{g&&n?(async()=>{let N=await j({srcSet:n,sizes:u});T(N)})():g&&T(l)},[g,u,l,n]),(0,e.useEffect)(()=>{if(!s.current||!E)return;let M=()=>{I(!0),s.current.play()},N=()=>{I(!1),s.current.pause()};i||(N(),c&&(s.current.currentTime=0)),!k&&(r?r&&!S&&i&&M():N())},[r,i,S,c,k,E]);let Z=M=>{M.preventDefault(),Q(!0),s.current.paused?(I(!0),s.current.play()):(I(!1),s.current.pause())};return(0,t.jsxs)("div",{className:d.elementWrapper,"data-reveal":B,"data-visible":r||a,style:R({delay:P(y+1e3)}),children:[g&&X&&(0,t.jsxs)(e.Fragment,{children:[(0,t.jsx)("video",{muted:!0,loop:!0,playsInline:!0,className:d.element,"data-loaded":a,"data-cover":p,autoPlay:!S,onLoadStart:o,src:E,"aria-label":v,ref:s,...F}),!h&&(0,t.jsxs)(J,{className:d.button,onClick:Z,children:[(0,t.jsx)(A,{icon:L?"pause":"play"}),L?"Pause":"Play"]})]}),!g&&(0,t.jsx)("img",{className:d.element,"data-loaded":a,"data-cover":p,onLoad:o,decoding:"async",src:x?l:void 0,srcSet:x?n:void 0,width:m,height:f,alt:v,sizes:u,...F}),G&&(0,t.jsx)("img",{"aria-hidden":!0,className:d.placeholder,"data-loaded":a,"data-cover":p,style:R({delay:P(y)}),ref:U,src:w,width:m,height:f,onTransitionEnd:()=>K(!1),decoding:"async",loading:"lazy",alt:"",role:"presentation"})]})};function z(o){return typeof o=="string"&&o.includes(".mp4")}export{$ as a};
