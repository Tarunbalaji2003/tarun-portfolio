import{r as _,j as r}from"./jsx-runtime-BfF-YriY.js";import{c as A,a as V,b as C,m as Y,t as h,I as O,H as D,B as L,T as Z}from"./heading-B2sVkuwd.js";import{D as Q}from"./decoder-text-B3P9jeDG.js";import{D as U}from"./divider-BHVqM2G5.js";import{S as W,F as ee}from"./section-DMpVui18.js";import"./components-7U91X0lH.js";import"./visually-hidden-DQc8RACT.js";import"./use-spring-CcAbRleG.js";import"./config-C6BTT1dW.js";function $(t=""){const[e,n]=_.useState(t),[i,s]=_.useState(),[a,o]=_.useState(!1);return{value:e,error:i,onChange:l=>{n(l.target.value),o(!0),i&&l.target.checkValidity()&&s(null)},onBlur:l=>{a&&l.target.checkValidity()},onInvalid:l=>{l.preventDefault(),s(l.target.validationMessage)}}}const te="_textarea_13d9g_3",se={textarea:te},re=({className:t,resize:e="none",value:n,onChange:i,minRows:s=1,maxRows:a,...o})=>{const[m,y]=_.useState(s),[d,l]=_.useState(),f=_.useRef();_.useEffect(()=>{const c=getComputedStyle(f.current),S=parseInt(c.lineHeight,10),b=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10);l({lineHeight:S,paddingHeight:b})},[]);const p=c=>{i(c);const{lineHeight:S,paddingHeight:b}=d,v=c.target.rows;c.target.rows=s;const g=~~((c.target.scrollHeight-b)/S);g===v&&(c.target.rows=g),a&&g>=a&&(c.target.rows=a,c.target.scrollTop=c.target.scrollHeight),y(a&&g>a?a:g)};return r.jsx("textarea",{className:A(se.textarea,t),ref:f,onChange:p,style:V({resize:e}),rows:m,value:n,...o})},oe="_container_17spy_3",ne="_content_17spy_31",ae="_input_17spy_41",ie="_root_17spy_1",le="_underline_17spy_109",ce="_label_17spy_145",de="_error_17spy_189",ue="_errorMessage_17spy_221",j={container:oe,content:ne,input:ae,root:ie,underline:le,label:ce,error:de,errorMessage:ue},k=({id:t,label:e,value:n,multiline:i,className:s,style:a,error:o,onBlur:m,autoComplete:y,required:d,maxLength:l,type:f,onChange:p,name:c,...S})=>{const[b,v]=_.useState(!1),g=_.useId(),H=_.useRef(),T=t||`${g}input`,F=`${T}-label`,w=`${T}-error`,z=i?re:"input",J=N=>{v(!1),m&&m(N)};return r.jsxs("div",{className:A(j.container,s),"data-error":!!o,style:a,...S,children:[r.jsxs("div",{className:j.content,children:[r.jsx("label",{className:j.label,"data-focused":b,"data-filled":!!n,id:F,htmlFor:T,children:e}),r.jsx(z,{className:j.input,id:T,"aria-labelledby":F,"aria-describedby":o?w:void 0,onFocus:()=>v(!0),onBlur:J,value:n,onChange:p,autoComplete:y,required:d,maxLength:l,type:f,name:c}),r.jsx("div",{className:j.underline,"data-focused":b})]}),r.jsx(C,{unmount:!0,in:o,timeout:Y(h.base.durationM),children:({visible:N,nodeRef:K})=>{var B;return r.jsx("div",{ref:K,className:j.error,"data-visible":N,id:w,role:"alert",style:V({height:N?(B=H.current)==null?void 0:B.getBoundingClientRect().height:0}),children:r.jsxs("div",{className:j.errorMessage,ref:H,children:[r.jsx(O,{icon:"error"}),o]})})}})]})},E={_origin:"https://api.emailjs.com"},me=(t,e="https://api.emailjs.com")=>{E._userID=t,E._origin=e},X=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class P{constructor(e){this.status=e.status,this.text=e.responseText}}const G=(t,e,n={})=>new Promise((i,s)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const m=new P(o);m.status===200||m.text==="OK"?i(m):s(m)}),a.addEventListener("error",({target:o})=>{s(new P(o))}),a.open("POST",E._origin+t,!0),Object.keys(n).forEach(o=>{a.setRequestHeader(o,n[o])}),a.send(e)}),pe=(t,e,n,i)=>{const s=i||E._userID;return X(s,t,e),G("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},_e=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},fe=(t,e,n,i)=>{const s=i||E._userID,a=_e(n);X(s,t,e);const o=new FormData(a);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",s),G("/api/v1.0/email/send-form",o)},he={init:me,send:pe,sendForm:fe},ge="_contact_1p6je_1",je="_form_1p6je_35",xe="_title_1p6je_59",ye="_divider_1p6je_119",be="_input_1p6je_195",Se="_botkiller_1p6je_279",Ee="_button_1p6je_287",ve="_complete_1p6je_407",Te="_completeTitle_1p6je_429",Ne="_completeText_1p6je_467",Ie="_completeButton_1p6je_505",Me="_formError_1p6je_557",Ce="_formErrorContent_1p6je_581",He="_formErrorMessage_1p6je_589",Fe="_formErrorIcon_1p6je_605",we="_footer_1p6je_615",u={contact:ge,form:je,title:xe,divider:ye,input:be,botkiller:Se,button:Ee,complete:ve,completeTitle:Te,completeText:Ne,completeButton:Ie,formError:Me,formErrorContent:Ce,formErrorMessage:He,formErrorIcon:Fe,footer:we},I=512,M=4096,Be=/(.+)@(.+){2,}\.(.+){2,}/,Xe=()=>[{title:"Contact"},{name:"description",content:"Send me a message if you’re interested in discussing a project or if you just want to say hi"}],Ge=()=>{const t=_.useRef(),e=$(""),n=$(""),i=h.base.durationS,[s,a]=_.useState(null),[o,m]=_.useState(!1),y=async d=>{d.preventDefault(),m(!0);const l=e.value,f=n.value,p={};if((!l||!Be.test(l))&&(p.email="Please enter a valid email address."),f||(p.message="Please enter a message."),l.length>I&&(p.email=`Email address must be shorter than ${I} characters.`),f.length>M&&(p.message=`Message must be shorter than ${M} characters.`),Object.keys(p).length>0){a({errors:p}),m(!1);return}he.send("service_kf9fo3d","template_nh0zuvc",{from_name:l,message:f},"ap_dt1Z_0-_sKfc56").then(c=>{console.log(c.text),a({success:!0})},c=>{console.error(c.text),a({errors:{message:"Failed to send message. Please try again later."}})}).finally(()=>m(!1))};return r.jsxs(W,{className:u.contact,children:[r.jsx(C,{unmount:!0,in:!(s!=null&&s.success),timeout:1600,children:({status:d,nodeRef:l})=>{var f,p;return r.jsxs("form",{className:u.form,method:"post",ref:l,onSubmit:y,children:[r.jsx(D,{className:u.title,"data-status":d,level:3,as:"h1",style:x(h.base.durationXS,i,.3),children:r.jsx(Q,{text:"Say hello",start:d!=="exited",delay:300})}),r.jsx(U,{className:u.divider,"data-status":d,style:x(h.base.durationXS,i,.4)}),r.jsx(k,{required:!0,className:u.input,"data-status":d,style:x(h.base.durationXS,i),autoComplete:"email",label:"Your email",type:"email",name:"email",maxLength:I,...e}),r.jsx(k,{required:!0,multiline:!0,className:u.input,"data-status":d,style:x(h.base.durationS,i),autoComplete:"off",label:"Message",name:"message",maxLength:M,...n}),(s==null?void 0:s.errors)&&r.jsx("div",{className:u.formError,ref:t,children:r.jsx("div",{className:u.formErrorContent,children:r.jsxs("div",{className:u.formErrorMessage,children:[r.jsx(O,{className:u.formErrorIcon,icon:"error"}),(f=s==null?void 0:s.errors)==null?void 0:f.email,(p=s==null?void 0:s.errors)==null?void 0:p.message]})})}),r.jsx(L,{className:u.button,"data-status":d,"data-sending":o,style:x(h.base.durationM,i),disabled:o,loading:o,loadingText:"Sending...",icon:"send",type:"submit",children:"Send message"})]})}}),r.jsx(C,{unmount:!0,in:s==null?void 0:s.success,children:({status:d,nodeRef:l})=>r.jsxs("div",{className:u.complete,"aria-live":"polite",ref:l,children:[r.jsx(D,{level:3,as:"h3",className:u.completeTitle,"data-status":d,children:"Message Sent"}),r.jsx(Z,{size:"l",as:"p",className:u.completeText,"data-status":d,style:x(h.base.durationXS),children:"I’ll get back to you within a couple days, sit tight"}),r.jsx(L,{secondary:!0,iconHoverShift:!0,className:u.completeButton,"data-status":d,style:x(h.base.durationM),href:"/",icon:"chevron-right",children:"Back to homepage"})]})}),r.jsx(ee,{className:u.footer})]})};function R(t){return parseFloat(t.replace("ms",""))}function q(t){return`${t}ms`}function De(t){return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{})}function x(t,e=q(0),n=1){const i=R(t)*n;return De({delay:q((R(e)+i).toFixed(0))})}export{Ge as default,Xe as meta};
